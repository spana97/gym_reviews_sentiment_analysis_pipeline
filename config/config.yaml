data:
  raw_google: "data/raw/google_reviews.csv"
  raw_trustpilot: "data/raw/trustpilot_reviews.csv"
  processed_output: "data/processed/low_rating_reviews_dataset.parquet"

rename_mappings:
  google:
    Social Media Source: source
    Club's Name: location
    Creation Date: date_created
    Comment: review
    Overall Score: score

  trustpilot:
    Source Of Review: source
    Location Name: location
    Review Created (UTC): date_created
    Review Content: review
    Review Stars: score

schema:
  source: string
  location: string
  date_created: datetime
  review: string
  score: int64

filters:
  low_rating_max: 3

text_preprocessing:
  extra_stopwords:
    ["gym", "club", "fitness", "center", "location", "customer", "experience"]

topic_model:
  language: English
  calculate_probabilities: False
  verbose: False
  embed_model: "all-MiniLM-L6-v2"
  low_memory: True
  nr_topics: "auto"
  model_output_path: "models/bertopic_model"
  topics_output_path: "data/processed/bertopic_topics.csv"

insights_generator:
  max_output_tokens: 2000
  developer_prompt: |
    You are an expert data analyst specializing in customer feedback analysis for a global gym company.
    You provide concise insights and actionable recommendations to improve operations and customer service.
    You will always respond in valid JSON format with no text outside the JSON structure.
    Be extremely concise. key_insights must be 1 sentence. recommendation must be 1 sentence. justification must be 1 sentence.
    Return a JSON array, one object per cluster, in this exact structure:
    [
      {
        "cluster": 1,
        "category": "Staff & Customer Service",
        "key_insights": "Customers frequently report...",
        "recommendation": "Implement monthly staff training...",
        "justification": "Addresses the most common complaint..."
      }
    ]
  user_prompt: |
    I have grouped gym customer reviews into clusters using topic modelling.
    Analyze each cluster and return a JSON array, one object per cluster.
    Below is an example of the expected format:
    [
      {{
        "cluster": 1,
        "category": "Staff & Customer Service",
        "key_insights": "Customers frequently report...",
        "recommendation": "Implement monthly staff training...",
        "justification": "Addresses the most common complaint..."
      }}
    ]
    Here are the clusters:
    {clusters}
  insights_output_path: "data/processed/cluster_insights.csv"
